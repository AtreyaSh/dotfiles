#+STARTUP: overview

** Tasks
*** Dotfiles
**** Current
***** TODO fix git related issues regarding structural changes -> destroy and create submodules again
***** TODO fine tune installation script for user and root level dotfiles -> work with install for root and use stow for user
***** fix i3 issue with terminal nohups -> not sure what this should be

**** Long-term
***** find ways to reduce hard-coding of configs/dotfiles to `/home/shankar` or `~` -> perhaps with makefile
***** consider using different configs for remote and local shells
***** look into user level acpi, udev and systemd services -> add these where possible after clearing logs
***** bash/zsh fix reduced hard-coding to particular servers -> add if statements to check for certain commands to reduce hard-coding
***** reduce the number of dotfiles for a leaner installation
***** keep gnupg, ssh, neomutt and other directories in private stow repo

*** System reproducibility
***** work on install script which setps up all the necessary git repos for dotfiles that cannot be managed with submodules -> eg. vim, spacemacs etc.
***** work on update script which updates all submodules and git repos to latest upstream commits (git submodule update --init --recursive --remote), and also updates misc. code bases such as melpa, vim, spacemacs, etc.
***** work on script which returns arch linux OS state to current state using package list backups, dotfile installation scheme and notes for important steps taken from experience -> test this with virtual machine -> perhaps each update backs up package list as well
***** make all audio channels muted at boot (now only main channel is muted)
***** synchronize mime system program defaults to same as ranger's rifle
***** figure out how to dump all package names and associated systemd rules which need to be recreated
      
** System reproduction logs after basic Arch installation
**** 1.sudo
***** install `sudo`
***** add or uncomment the following `%wheel      ALL=(ALL) ALL` to allow for wheel users to access sudo
***** use `visudo` to prevent any syntax errors
**** 2. tlp runner
***** instal `tlp` 
***** copy existing tlp.conf to /etc/tlp.conf for disabling bluetooth, wifi and wwan at startup
***** run `sudo systemctl enable tlp.service` and `sudo systemctl start tlp.service`  
**** 3. light
***** install `light` for managing backlight
***** add local user to `video` group by running `usermod -a -G video shankar`  
**** 4. mesa video driver
***** install `mesa` package and avoid `xf86-video-intel`
**** 5. udev battery rules
***** copy 60-onbattery.rules and 61-onpower.rules to /etc/udev/rules.d
***** reload rules `sudo udevadm control --reload`
**** 6. ufw firewall
***** install `ufw` 
***** retain default settings that deny incoming requests while allowing outgoing
***** run `sudo systemctl enable ufw.service` and `sudo systemctl start ufw.service`
***** run `sudo ufw enable` to enable it outside systemd
**** 7. openssh
***** install `openssh`
***** run `systemctl --user enable ssh-agent.service` and `systemctl --user start ssh-agent.service` on local file
***** SSH_AUTH_SOCK environmental variable needs to be set in shellrc
***** stow ~/.ssh/config with instructions for adding keys to ssh agent
**** 8. gnupg
***** install `gnupg`
***** stow ~/.gnupg/gpg-agent to get relevant agent functionalities and cached keys, along with shell GPG_TTY environmental variable
**** 9. ACPI audio jack
***** install `acpid`
***** copy `audio_jack` to /etc/acpi/events
***** run `sudo sytemctl enable acpid.service` and `sudo sytemctl start acpid.service`
**** 10. pre-suspend i3lock workflow
***** i3lock post-suspend requires sleep to prevent short real display
***** copy suspend@.service to /etc/systemd/system
***** run `sudo systemctl enable suspend@$USER.service`, remember to replace $USER with the actual user 
**** 11. early KMS
***** add `MODULES=(intel_agp i915)` to /etc/mkinitcpio.conf
***** run `sudo mkinitcpio -P`
**** 12. timesync
***** run `sudo systemctl enable systemd-timesyncd.service` in order to sync time

** Completed
***** DONE extract all steps listed in i3 config file for reproducibility -> store them neatly with explanations and commands
      CLOSED: [2020-11-07 Sat 19:19]
***** DONE move all special files elsewhere and add jack file as well
      CLOSED: [2020-11-07 Sat 15:01]
***** DONE improve quality and formatting of all code, especially for i3 configs
      CLOSED: [2020-11-07 Sat 14:47]
***** DONE change layout names to more agnostic -> make this better
      CLOSED: [2020-11-05 Thu 13:53]
***** DONE change background name to simpler one and synchronize throughout all references
      CLOSED: [2020-11-05 Thu 13:18]
***** DONE replace simple git repos with submodules -> only done for non-offensive git repos
      CLOSED: [2020-11-04 Wed 17:15]
***** DONE Design non-offending stow command for all -> put this in readme
      CLOSED: [2020-11-04 Wed 16:14]
***** DONE Dotfile initiative started
      CLOSED: [2020-11-04 Wed 16:14]
